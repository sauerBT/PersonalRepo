function ret = CSTR_S(t, y, m0, m1, M, x1_in, x2_in, x3_in)
%UNTITLED2 Summary of this function goes here
%   y(1)  = x1
%   y(2) = x2
%   y(3) = x3

ret = [((m0 * x1_in - m1 * y(1)) - y(1)*(m0 - m1))/M ;
        ((m0 * x2_in - m1 * y(2)) - y(2)*(m0 - m1))/M ;
        ((m0 * x3_in - m1 * y(3)) - y(3)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(4)) - y(4)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(5)) - y(5)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(6)) - y(6)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(7)) - y(7)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(8)) - y(8)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(9)) - y(9)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(10)) - y(10)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(11)) - y(11)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(12)) - y(12)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(13)) - y(13)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(14)) - y(14)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(15)) - y(15)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(16)) - y(16)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(17)) - y(17)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(18)) - y(18)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(19)) - y(19)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(20)) - y(20)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(21)) - y(21)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(22)) - y(22)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(23)) - y(23)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(24)) - y(24)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(25)) - y(25)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(26)) - y(26)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(27)) - y(27)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(28)) - y(28)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(29)) - y(29)*(m0 - m1))/M ;
        ((m0 * 0 - m1 * y(30)) - y(30)*(m0 - m1))/M ;
        ]
end